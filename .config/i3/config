set $mod Mod4
set $mod2 Mod3
set $term 1
set $code 2
set $web 3
set $mail 4
set $image 5
set $chat 6
set $music 7
set $dark #333333
set $darker #555555
set $brighter #888888
set $bright #cfcfcf

# Font
font pango:Source Sans Pro Semibold 12

# Dragging windows
floating_modifier $mod

# Terminal
bindsym $mod+Return exec --no-startup-id alacritty

# Kill focused window
bindsym $mod+q kill

# Dmenu
bindsym $mod+d exec --no-startup-id dmenu_run -i -lh 30 -fn "Source Sans Pro Semibold-12" -nb "$dark" -nf "$bright" -sb "$darker" -sf "$bright" -p "Run:"

# Focus
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# Move
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# Split
bindsym $mod+h split h
bindsym $mod+v split v

# Fullscreen
bindsym $mod+f fullscreen toggle

# Toggle tiling / floating
bindsym $mod+space floating toggle

# Default workspace
exec --no-startup-id i3-msg "workspace $term"

# Marking containers
bindsym $mod+m mark --toggle persistent

# Switch workspace
bindsym $mod+1 workspace number $term;[con_mark="persistent"] move container to workspace number $term
bindsym $mod+2 workspace number $code;[con_mark="persistent"] move container to workspace number $code
bindsym $mod+3 workspace number $web;[con_mark="persistent"] move container to workspace number $web
bindsym $mod+4 workspace number $mail;[con_mark="persistent"] move container to workspace number $mail
bindsym $mod+5 workspace number $image;[con_mark="persistent"] move container to workspace number $image
bindsym $mod+6 workspace number $chat;[con_mark="persistent"] move container to workspace number $chat
bindsym $mod+7 workspace number $music;[con_mark="persistent"] move container to workspace number $music

# Move windows
bindsym $mod+Shift+1 move container to workspace number $term
bindsym $mod+Shift+2 move container to workspace number $code
bindsym $mod+Shift+3 move container to workspace number $web
bindsym $mod+Shift+4 move container to workspace number $mail
bindsym $mod+Shift+5 move container to workspace number $image
bindsym $mod+Shift+6 move container to workspace number $chat
bindsym $mod+Shift+7 move container to workspace number $music

# Reload, restart, exit
bindsym $mod+Shift+r restart
bindsym $mod+Shift+e exec --no-startup-id i3-msg exit

# Resize
mode "Resize" {
  bindsym Left resize shrink width 5 px
  bindsym Down resize grow height 5 px
  bindsym Up resize shrink height 5 px
  bindsym Right resize grow width 5 px
  bindsym Escape mode "default"
}
bindsym $mod+r mode "Resize"

# Top bar
bar {
	id 0
	status_command i3blocks
	mode dock
	position top
	colors {
		background $dark
		focused_workspace $dark $darker $bright
		inactive_workspace $dark $dark $brighter
		urgent_workspace $darker $dark $brighter
		separator $bright
	}
	font pango:Source Sans Pro Semibold 12
	separator_symbol ""
	height 30
	tray_output none
	binding_mode_indicator no
	strip_workspace_numbers yes
}

# Bottom bar
bar {
	id 1
	position bottom
	mode hide
	colors {
		background $dark
		focused_workspace $dark $darker $bright
		inactive_workspace $dark $dark $brighter
		urgent_workspace $darker $dark $brighter
		separator $bright
	}
	font pango:Source Sans Pro Semibold 12
	height 35
	tray_output primary
	tray_padding 3
	binding_mode_indicator yes
	workspace_buttons no
	modifier $mod2
}

# Screenshot
bindsym Print exec --no-startup-id scrot /tmp/screen.png -q 100 && xclip -i /tmp/screen.png -t image/png -selection CLIPBOARD && rm /tmp/screen.png && notify-send "Screenshot taken"
bindsym Shift+Print exec --no-startup-id scrot ~/Images/screenshot.png -q 100 && notify-send "Screenshot saved"

# Wallpaper
exec_always --no-startup-id ~/Scripts/random_wallpaper.sh

# Brightness
bindsym XF86MonBrightnessUp exec --no-startup-id light -Ar 5 && pkill -RTMIN+2 i3blocks
bindsym XF86MonBrightnessDown exec --no-startup-id light -Ur 5 && pkill -RTMIN+2 i3blocks

# Audio
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume 0 +5% && pkill -RTMIN+1 i3blocks
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume 0 -5% && pkill -RTMIN+1 i3blocks
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute 0 toggle && pkill -RTMIN+1 i3blocks

# Colors
client.focused $brighter $dark $bright $darker $brighter
client.focused_inactive $darker $dark $bright $darker $darker
client.unfocused $darker $dark $bright $darker $darker
client.urgent $darker $dark $bright $darker $darker
client.background $dark

# Workspace assignments
assign [class="Atom"] $code
assign [class="Firefox"] $web
assign [class="Thunderbird"] $mail
assign [class="Gimp"] $image
assign [class="discord"] $chat
assign [class="Spotify"] $music

# Disable title bars
new_window pixel 0
for_window [class=".*"] border pixel 0

# Gaps
gaps inner 15
gaps outer 0
